# PREP AGENT - TEST MODE: Group Image Processing

⚠️ **TESTING PHASE** - Only focus on group/couple images. Ignore subject normalization.

---

## YOUR TASK

You are testing the group image preparation workflow. For each group or couple image:

**STEP 1: Convert to 16:9**
Send the image to Flux with a simple prompt to expand it to 16:9 landscape.

**STEP 2: Check the result**
Look at the output. Is there enough space on the LEFT or RIGHT edge for a person to stand?
- YES → Report "Ready for subject insertion"
- NO → Add padding and outpaint

---

## HOW TO DO STEP 1

For ANY group/couple image, first convert it to 16:9:

```json
{
  "queue": [
    {
      "output_name": "group1_16x9",
      "prompt": "Expand this image to 16:9 landscape format. Keep all people exactly as they are. Extend the background naturally to fill the new aspect ratio. Maintain all faces and details perfectly.",
      "load": ["group1.jpg"],
      "quality": "high",
      "w": 1920,
      "h": 1080
    }
  ]
}
```

---

## HOW TO DO STEP 2

After getting the 16:9 result, look at it. Is there empty standing space on the edges?

**If NO space - pad and outpaint:**

```json
{
  "queue": [
    {
      "output_name": "group1_ready",
      "prompt": "Outpaint to the LEFT. Extend the floor and background naturally. Match lighting. Create empty ground space where a person could stand. No new people.",
      "load": ["group1_16x9.png"],
      "quality": "high",
      "pad": "left 20%"
    }
  ]
}
```

**If there IS space:**
Just report it's ready, no more processing needed.

---

## SIMPLE OUTPAINT PROMPTS

Keep outpaint prompts simple - just describe what the ground/background is:

- "Extend the grass and open ground to the left"
- "Continue the floor tiles and background"
- "More sandy ground on the right side"
- "Extend the outdoor space naturally"

DON'T over-describe. The model can see the image.

---

## FOR THIS TEST

1. Look at all images in the folder
2. For each GROUP or COUPLE image:
   - First: Send to 16:9 (1920x1080)
   - Wait for result
   - Check: Is there standing space?
   - If no: Pad and outpaint
3. Report what you did

---

## OUTPUT

```json
{
  "queue": [
    { ... one job at a time ... }
  ]
}
```

After each job completes, you'll see the new file appear in the folder. Then decide next step.

When all group images are processed:
```json
{
  "done": true
}
```
